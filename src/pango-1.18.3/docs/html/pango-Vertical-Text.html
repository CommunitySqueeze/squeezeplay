<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>Vertical Text</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.73.2">
<link rel="start" href="index.html" title="Pango Reference Manual">
<link rel="up" href="pango.html" title="Basic Pango Interfaces">
<link rel="prev" href="pango-Scripts.html" title="Scripts">
<link rel="next" href="rendering.html" title="Rendering with Pango">
<meta name="generator" content="GTK-Doc V1.8 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="chapter" href="pango.html" title="Basic Pango Interfaces">
<link rel="chapter" href="rendering.html" title="Rendering with Pango">
<link rel="chapter" href="lowlevel.html" title="Low Level Functionality">
<link rel="chapter" href="tools.html" title="Pango Tools">
<link rel="chapter" href="pango-hierarchy.html" title="Object Hierarchy">
<link rel="index" href="index-all.html" title="Index">
<link rel="index" href="index-deprecated.html" title="Index of deprecated symbols">
<link rel="index" href="index-1.2.html" title="Index of new symbols in 1.2">
<link rel="index" href="index-1.4.html" title="Index of new symbols in 1.4">
<link rel="index" href="index-1.6.html" title="Index of new symbols in 1.6">
<link rel="index" href="index-1.8.html" title="Index of new symbols in 1.8">
<link rel="index" href="index-1.10.html" title="Index of new symbols in 1.10">
<link rel="index" href="index-1.12.html" title="Index of new symbols in 1.12">
<link rel="index" href="index-1.14.html" title="Index of new symbols in 1.14">
<link rel="index" href="index-1.16.html" title="Index of new symbols in 1.16">
<link rel="index" href="index-1.18.html" title="Index of new symbols in 1.18">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="pango-Scripts.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="pango.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">Pango Reference Manual</th>
<td><a accesskey="n" href="rendering.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts"><nobr><a href="#id3140962" class="shortcut">Top</a>
                  &#160;|&#160;
                  <a href="#id3141080" class="shortcut">Description</a></nobr></td></tr>
</table>
<div class="refentry" lang="en">
<a name="pango-Vertical-Text"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2>
<a name="id3140962"></a><span class="refentrytitle">Vertical Text</span>
</h2>
<p>Vertical Text &#8212; Laying text out in vertical directions</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<h2>Synopsis</h2>
<pre class="synopsis">



enum                <a class="link" href="pango-Vertical-Text.html#PangoGravity">PangoGravity</a>;
#define             <a class="link" href="pango-Vertical-Text.html#PANGO-TYPE-GRAVITY:CAPS">PANGO_TYPE_GRAVITY</a>
enum                <a class="link" href="pango-Vertical-Text.html#PangoGravityHint">PangoGravityHint</a>;
#define             <a class="link" href="pango-Vertical-Text.html#PANGO-TYPE-GRAVITY-HINT:CAPS">PANGO_TYPE_GRAVITY_HINT</a>
#define             <a class="link" href="pango-Vertical-Text.html#PANGO-GRAVITY-IS-VERTICAL:CAPS">PANGO_GRAVITY_IS_VERTICAL</a>           (gravity)
<a class="link" href="pango-Vertical-Text.html#PangoGravity">PangoGravity</a>        <a class="link" href="pango-Vertical-Text.html#pango-gravity-get-for-matrix">pango_gravity_get_for_matrix</a>        (const <a class="link" href="pango-Glyph-Storage.html#PangoMatrix">PangoMatrix</a> *matrix);
<a class="link" href="pango-Vertical-Text.html#PangoGravity">PangoGravity</a>        <a class="link" href="pango-Vertical-Text.html#pango-gravity-get-for-script">pango_gravity_get_for_script</a>        (<a class="link" href="pango-Scripts.html#PangoScript">PangoScript</a> script,
                                                         <a class="link" href="pango-Vertical-Text.html#PangoGravity">PangoGravity</a> base_gravity,
                                                         <a class="link" href="pango-Vertical-Text.html#PangoGravityHint">PangoGravityHint</a> hint);

</pre>
</div>
<div class="refsect1" lang="en">
<a name="id3141080"></a><h2>Description</h2>
<p>
Since 1.16, Pango is able to correctly lay vertical text out.  In fact, it can
set layouts of mixed vertical and non-vertical text.  This section describes
the types used for setting vertical text parameters.
</p>
<p>
The way this is implemented is through the concept of
<em class="firstterm">gravity</em>.  Gravity of normal Latin text is south.  A
gravity value of east means that glyphs will be rotated ninety degrees
counterclockwise.  So, to render vertical text one needs to set the gravity
and rotate the layout using the matrix machinery already in place.  This has
the huge advantage that most algorithms working on a <a class="link" href="pango-Layout-Objects.html#PangoLayout"><span class="type">PangoLayout</span></a> do not need
any change as the assumption that lines run in the X direction and stack in
the Y direction holds even for vertical text layouts.
</p>
<p>
Applications should only need to set base gravity on <a class="link" href="pango-Text-Processing.html#PangoContext"><span class="type">PangoContext</span></a> in use, and
let Pango decide the gravity assigned to each run of text.  This automatically
handles text with mixed scripts.  A very common use is to set the context base
gravity to auto and rotate the layout normally.  Pango will make sure that
Asian languages take the right form, while other scripts are rotated normally.
</p>
</div>
<div class="refsect1" lang="en">
<a name="id3141140"></a><h2>Details</h2>
<div class="refsect2" lang="en">
<a name="id3141150"></a><h3>
<a name="PangoGravity"></a>enum PangoGravity</h3>
<a class="indexterm" name="id3141165"></a><pre class="programlisting">typedef enum {
  PANGO_GRAVITY_SOUTH,
  PANGO_GRAVITY_EAST,
  PANGO_GRAVITY_NORTH,
  PANGO_GRAVITY_WEST,
  PANGO_GRAVITY_AUTO
} PangoGravity;
</pre>
<p>
The <a class="link" href="pango-Vertical-Text.html#PangoGravity"><span class="type">PangoGravity</span></a> type represents the orientation of glyphs in a segment
of text.  This is useful when rendering vertical text layouts.  In
those situations, the layout is rotated using a non-identity PangoMatrix,
and then glyph orientation is controlled using <a class="link" href="pango-Vertical-Text.html#PangoGravity"><span class="type">PangoGravity</span></a>.
Not every value in this enumeration makes sense for every usage of
<a class="link" href="pango-Vertical-Text.html#PangoGravity"><span class="type">PangoGravity</span></a>; for example, <a class="link" href="pango-Vertical-Text.html#PANGO-GRAVITY-AUTO:CAPS"><code class="literal">PANGO_GRAVITY_AUTO</code></a> only can be passed to
<a class="link" href="pango-Text-Processing.html#pango-context-set-base-gravity"><code class="function">pango_context_set_base_gravity()</code></a> and can only be returned by
<a class="link" href="pango-Text-Processing.html#pango-context-get-base-gravity"><code class="function">pango_context_get_base_gravity()</code></a>.
</p>
<p>
See also: <a class="link" href="pango-Vertical-Text.html#PangoGravityHint"><span class="type">PangoGravityHint</span></a></p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><a name="PANGO-GRAVITY-SOUTH:CAPS"></a><code class="literal">PANGO_GRAVITY_SOUTH</code></span></p></td>
<td> Glyphs stand upright (default)
</td>
</tr>
<tr>
<td><p><span class="term"><a name="PANGO-GRAVITY-EAST:CAPS"></a><code class="literal">PANGO_GRAVITY_EAST</code></span></p></td>
<td> Glyphs are rotated 90 degrees clockwise
</td>
</tr>
<tr>
<td><p><span class="term"><a name="PANGO-GRAVITY-NORTH:CAPS"></a><code class="literal">PANGO_GRAVITY_NORTH</code></span></p></td>
<td> Glyphs are upside-down
</td>
</tr>
<tr>
<td><p><span class="term"><a name="PANGO-GRAVITY-WEST:CAPS"></a><code class="literal">PANGO_GRAVITY_WEST</code></span></p></td>
<td> Glyphs are rotated 90 degrees counter-clockwise
</td>
</tr>
<tr>
<td><p><span class="term"><a name="PANGO-GRAVITY-AUTO:CAPS"></a><code class="literal">PANGO_GRAVITY_AUTO</code></span></p></td>
<td> Gravity is resolved from the context matrix
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since  1.16
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3141386"></a><h3>
<a name="PANGO-TYPE-GRAVITY:CAPS"></a>PANGO_TYPE_GRAVITY</h3>
<a class="indexterm" name="id3141399"></a><pre class="programlisting">#define PANGO_TYPE_GRAVITY (pango_gravity_get_type())
</pre>
<p>
The <a
href="../gobject/gobject-The-Base-Object-Type.html#GObject"
><span class="type">GObject</span></a> type for <a class="link" href="pango-Vertical-Text.html#PangoGravity"><span class="type">PangoGravity</span></a>.
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3141432"></a><h3>
<a name="PangoGravityHint"></a>enum PangoGravityHint</h3>
<a class="indexterm" name="id3141447"></a><pre class="programlisting">typedef enum {
  PANGO_GRAVITY_HINT_NATURAL,
  PANGO_GRAVITY_HINT_STRONG,
  PANGO_GRAVITY_HINT_LINE
} PangoGravityHint;
</pre>
<p>
The <a class="link" href="pango-Vertical-Text.html#PangoGravityHint"><span class="type">PangoGravityHint</span></a> defines how horizontal scripts should behave in a
vertical context.  That is, English excerpt in a vertical paragraph for
example.
</p>
<p>
See <a class="link" href="pango-Vertical-Text.html#PangoGravity"><span class="type">PangoGravity</span></a>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><a name="PANGO-GRAVITY-HINT-NATURAL:CAPS"></a><code class="literal">PANGO_GRAVITY_HINT_NATURAL</code></span></p></td>
<td> scripts will take their natural gravity based
on the base gravity and the script.  This is the default.
</td>
</tr>
<tr>
<td><p><span class="term"><a name="PANGO-GRAVITY-HINT-STRONG:CAPS"></a><code class="literal">PANGO_GRAVITY_HINT_STRONG</code></span></p></td>
<td> always use the base gravity set, regardless of
the script.
</td>
</tr>
<tr>
<td><p><span class="term"><a name="PANGO-GRAVITY-HINT-LINE:CAPS"></a><code class="literal">PANGO_GRAVITY_HINT_LINE</code></span></p></td>
<td> for scripts not in their natural direction (eg.
Latin in East gravity), choose per-script gravity such that every script
respects the line progression.  This means, Latin and Arabic will take
opposite gravities and both flow top-to-bottom for example.
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since  1.16
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3141576"></a><h3>
<a name="PANGO-TYPE-GRAVITY-HINT:CAPS"></a>PANGO_TYPE_GRAVITY_HINT</h3>
<a class="indexterm" name="id3141590"></a><pre class="programlisting">#define PANGO_TYPE_GRAVITY_HINT (pango_gravity_hint_get_type())
</pre>
<p>
The <a
href="../gobject/gobject-The-Base-Object-Type.html#GObject"
><span class="type">GObject</span></a> type for <a class="link" href="pango-Vertical-Text.html#PangoGravity"><span class="type">PangoGravity</span></a>.
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3141622"></a><h3>
<a name="PANGO-GRAVITY-IS-VERTICAL:CAPS"></a>PANGO_GRAVITY_IS_VERTICAL()</h3>
<a class="indexterm" name="id3141638"></a><pre class="programlisting">#define             PANGO_GRAVITY_IS_VERTICAL(gravity)</pre>
<p>
Whether a <a class="link" href="pango-Vertical-Text.html#PangoGravity"><span class="type">PangoGravity</span></a> represents vertical writing directions.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code>gravity</code></em>&#160;:</span></p></td>
<td> the <a class="link" href="pango-Vertical-Text.html#PangoGravity"><span class="type">PangoGravity</span></a> to check
</td>
</tr></tbody>
</table></div>
<p class="since">Since  1.16
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3141700"></a><h3>
<a name="pango-gravity-get-for-matrix"></a>pango_gravity_get_for_matrix ()</h3>
<a class="indexterm" name="id3141715"></a><pre class="programlisting"><a class="link" href="pango-Vertical-Text.html#PangoGravity">PangoGravity</a>        pango_gravity_get_for_matrix        (const <a class="link" href="pango-Glyph-Storage.html#PangoMatrix">PangoMatrix</a> *matrix);</pre>
<p>
Finds the gravity that best matches the rotation component
in a <a class="link" href="pango-Glyph-Storage.html#PangoMatrix"><span class="type">PangoMatrix</span></a>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>matrix</code></em>&#160;:</span></p></td>
<td> a <a class="link" href="pango-Glyph-Storage.html#PangoMatrix"><span class="type">PangoMatrix</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> the gravity of <em class="parameter"><code>matrix</code></em>, which will never be
<a class="link" href="pango-Vertical-Text.html#PANGO-GRAVITY-AUTO:CAPS"><code class="literal">PANGO_GRAVITY_AUTO</code></a>, or <a class="link" href="pango-Vertical-Text.html#PANGO-GRAVITY-SOUTH:CAPS"><code class="literal">PANGO_GRAVITY_SOUTH</code></a> if <em class="parameter"><code>matrix</code></em> is <a
href="../glib/glib-Standard-Macros.html#NULL:CAPS"
><code class="literal">NULL</code></a>

</td>
</tr>
</tbody>
</table></div>
<p class="since">Since  1.16
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3141845"></a><h3>
<a name="pango-gravity-get-for-script"></a>pango_gravity_get_for_script ()</h3>
<a class="indexterm" name="id3141860"></a><pre class="programlisting"><a class="link" href="pango-Vertical-Text.html#PangoGravity">PangoGravity</a>        pango_gravity_get_for_script        (<a class="link" href="pango-Scripts.html#PangoScript">PangoScript</a> script,
                                                         <a class="link" href="pango-Vertical-Text.html#PangoGravity">PangoGravity</a> base_gravity,
                                                         <a class="link" href="pango-Vertical-Text.html#PangoGravityHint">PangoGravityHint</a> hint);</pre>
<p>
Based on the script, base gravity, and hint, returns actual gravity
to use in laying out a single <a class="link" href="pango-Text-Processing.html#PangoItem"><span class="type">PangoItem</span></a>.
</p>
<p>
If <em class="parameter"><code>base_gravity</code></em> is <a class="link" href="pango-Vertical-Text.html#PANGO-GRAVITY-AUTO:CAPS"><code class="literal">PANGO_GRAVITY_AUTO</code></a>, it is first replaced with the
preferred gravity of <em class="parameter"><code>script</code></em>.  To get the preferred gravity of a script,
pass <a class="link" href="pango-Vertical-Text.html#PANGO-GRAVITY-AUTO:CAPS"><code class="literal">PANGO_GRAVITY_AUTO</code></a> and <a class="link" href="pango-Vertical-Text.html#PANGO-GRAVITY-HINT-STRONG:CAPS"><code class="literal">PANGO_GRAVITY_HINT_STRONG</code></a> in.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>script</code></em>&#160;:</span></p></td>
<td> <a class="link" href="pango-Scripts.html#PangoScript"><span class="type">PangoScript</span></a> to query
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>base_gravity</code></em>&#160;:</span></p></td>
<td> base gravity of the paragraph
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>hint</code></em>&#160;:</span></p></td>
<td> orientation hint
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> resolved gravity suitable to use for a run of text

</td>
</tr>
</tbody>
</table></div>
<p class="since">Since  1.16
</p>
</div>
</div>
</div>
</body>
</html>
